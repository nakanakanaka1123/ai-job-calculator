
	      <!DOCTYPE html>
<html>
  <head>
    <title>CodeSandbox</title>

    <script type="importmap">
      {"imports":{"react":"https://esm.sh/react@18.3.1","recharts":"https://esm.sh/recharts?external=react,react-dom","lucide-react":"https://esm.sh/lucide-react?external=react,react-dom","react-dom":"https://esm.sh/react-dom@18.3.1","react/jsx-runtime":"https://esm.sh/react@18.3.1/jsx-runtime","react-dom/client":"https://esm.sh/react-dom@18.3.1/client","tailwindcss/defaultTheme":"https://esm.sh/tailwindcss/defaultTheme","tailwindcss-animate":"https://esm.sh/tailwindcss-animate"}}
    </script>

    <script>
      window.addEventListener("error", function (event) {
        const errorObj = {
          message: event.message,
          source: event.filename,
          lineno: event.lineno,
          colno: event.colno,
          stack: event.error ? event.error.stack : null
        };
        window.parent.postMessage(
          { action: "error", error: JSON.stringify(errorObj) },
          "*"
        );
        event.preventDefault();
      });

  function handleImportError(error) {
    throw new Error('Import module failed: ' + error.target.src);
  }

  const observer = new MutationObserver(mutations => {
    mutations.forEach(mutation => {
      mutation.addedNodes.forEach(node => {
        if (node.tagName === 'SCRIPT' && node.type === 'module') {
          node.onerror = handleImportError;
        }
      });
    });
  });

  observer.observe(document.documentElement, { childList: true, subtree: true });

  document.querySelectorAll('script[type="module"]').forEach(script => {
    script.onerror = handleImportError;
  });

  
window.console = new Proxy(console, {
  get(target, prop) {
    if (['log', 'warn', 'error'].includes(prop)) {
      return new Proxy(target[prop], {
        apply(fn, thisArg, args) {
          fn.apply(thisArg, args);
          window.parent.postMessage({ action: 'console', 
            type: prop, 
            args: args.map((arg) => {
              try {
                return JSON.stringify(arg).replace(/^["']|["']$/g, '');
              } catch (e) {
                return arg;
              }
            }) 
          }, '*');
        }
      });
    }
    return target[prop];
  }
});


    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,container-queries"></script>
    <style type="text/tailwindcss">
      @layer base {
        :root {
          --background: 0 0% 100%;
          --foreground: 222.2 47.4% 11.2%;

          --muted: 210 40% 96.1%;
          --muted-foreground: 215.4 16.3% 46.9%;

          --popover: 0 0% 100%;
          --popover-foreground: 222.2 47.4% 11.2%;

          --border: 214.3 31.8% 91.4%;
          --input: 214.3 31.8% 91.4%;

          --card: 0 0% 100%;
          --card-foreground: 222.2 47.4% 11.2%;

          --primary: 222.2 47.4% 11.2%;
          --primary-foreground: 210 40% 98%;

          --secondary: 210 40% 96.1%;
          --secondary-foreground: 222.2 47.4% 11.2%;

          --accent: 210 40% 96.1%;
          --accent-foreground: 222.2 47.4% 11.2%;

          --destructive: 0 100% 50%;
          --destructive-foreground: 210 40% 98%;

          --ring: 215 20.2% 65.1%;

          --radius: 0.5rem;
        }

        .dark {
          --background: 224 71% 4%;
          --foreground: 213 31% 91%;

          --muted: 223 47% 11%;
          --muted-foreground: 215.4 16.3% 56.9%;

          --accent: 216 34% 17%;
          --accent-foreground: 210 40% 98%;

          --popover: 224 71% 4%;
          --popover-foreground: 215 20.2% 65.1%;

          --border: 216 34% 17%;
          --input: 216 34% 17%;

          --card: 224 71% 4%;
          --card-foreground: 213 31% 91%;

          --primary: 210 40% 98%;
          --primary-foreground: 222.2 47.4% 1.2%;

          --secondary: 222.2 47.4% 11.2%;
          --secondary-foreground: 210 40% 98%;

          --destructive: 0 63% 31%;
          --destructive-foreground: 210 40% 98%;

          --ring: 216 34% 17%;

          --radius: 0.5rem;
        }
      }
    </style>
    <script type="module">
          import defaultTheme from "tailwindcss/defaultTheme"
          import tailwindcssAnimate from "tailwindcss-animate"

          const fontFamily = defaultTheme.fontFamily;

          tailwind.config = {
            darkMode: ["class"],
        content: ["app/**/*.{ts,tsx}", "components/**/*.{ts,tsx}"],
        theme: {
          container: {
            center: true,
            padding: "2rem",
            screens: {
              "2xl": "1400px",
            },
          },
          extend: {
            colors: {
              border: "hsl(var(--border))",
              input: "hsl(var(--input))",
              ring: "hsl(var(--ring))",
              background: "hsl(var(--background))",
              foreground: "hsl(var(--foreground))",
              primary: {
                DEFAULT: "hsl(var(--primary))",
                foreground: "hsl(var(--primary-foreground))",
              },
              secondary: {
                DEFAULT: "hsl(var(--secondary))",
                foreground: "hsl(var(--secondary-foreground))",
              },
              destructive: {
                DEFAULT: "hsl(var(--destructive))",
                foreground: "hsl(var(--destructive-foreground))",
              },
              muted: {
                DEFAULT: "hsl(var(--muted))",
                foreground: "hsl(var(--muted-foreground))",
              },
              accent: {
                DEFAULT: "hsl(var(--accent))",
                foreground: "hsl(var(--accent-foreground))",
              },
              popover: {
                DEFAULT: "hsl(var(--popover))",
                foreground: "hsl(var(--popover-foreground))",
              },
              card: {
                DEFAULT: "hsl(var(--card))",
                foreground: "hsl(var(--card-foreground))",
              },
            },
            borderRadius: {
              lg: `var(--radius)`,
              md: `calc(var(--radius) - 2px)`,
              sm: "calc(var(--radius) - 4px)",
            },
            fontFamily: {
              sans: [...fontFamily.sans],
            },

            keyframes: {
              "accordion-down": {
                from: { height: "0" },
                to: { height: "var(--radix-accordion-content-height)" },
              },
              "accordion-up": {
                from: { height: "var(--radix-accordion-content-height)" },
                to: { height: "0" },
              },
            },
            animation: {
              "accordion-down": "accordion-down 0.2s ease-out",
              "accordion-up": "accordion-up 0.2s ease-out",
            },
          },
        },
        plugins: [tailwindcssAnimate]
      }
    </script>
    <!-- babeljs -->
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel" data-type="module">
      		  import {createRoot} from "react-dom/client";
            import React from "react";
      		  
import { useState, useEffect } from "react";
import { 
  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,
  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, Legend
} from "recharts";
import { 
  ArrowRight, RefreshCw, Brain, Briefcase, Shield, Send, Check, 
  ChevronLeft, Share2, Download, Mail, Twitter, Linkedin, Facebook, 
  Copy, Info, AlertTriangle, Award, Zap, Gift, TrendingUp
} from "lucide-react";

function AIJobRiskCalculator() {
  const [step, setStep] = useState(-1);
  const [answers, setAnswers] = useState({});
  const [result, setResult] = useState(null);
  const [email, setEmail] = useState("nakakou1023fukui@gmail.com");
  const [emailSent, setEmailSent] = useState(false);
  const [jobTitle, setJobTitle] = useState("");
  const [animateIn, setAnimateIn] = useState(true);
  const [sharedLinkCopied, setSharedLinkCopied] = useState(false);
  const [progress, setProgress] = useState(0);
  
  useEffect(() => {
    // ç·è³ªå•æ•°ã«å¯¾ã™ã‚‹é€²æ—ç‡ã‚’è¨ˆç®—
    const totalQuestions = questions.length + 2; // +1 for job title & job field
    let currentProgress = 0;
    
    if (step > -1) {
      currentProgress = ((step + 1) / totalQuestions) * 100;
    }
    
    setProgress(currentProgress);
  }, [step]);
  
  // ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªè³ªå•ã«ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«
  const questions = [
    {
      id: "repetitive",
      question: "ã‚ãªãŸã®ä»•äº‹ã¯æ¯æ—¥åŒã˜ã“ã¨ã®ç¹°ã‚Šè¿”ã—ãŒå¤šã„ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã€å®šå‹ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã€æ±ºã¾ã£ãŸæ‰‹é †ã§ã®ä½œæ¥­ãªã©",
      options: [
        { value: 10, label: "ã»ã¼ã™ã¹ã¦åŒã˜ã“ã¨ã®ç¹°ã‚Šè¿”ã—ã§ã™", icon: "ğŸ”„" },
        { value: 7, label: "åŒã˜ä½œæ¥­ãŒå¤šã„ã§ã™ãŒã€ä¾‹å¤–çš„ãªå¯¾å¿œã‚‚æ™‚ã€…ã‚ã‚Šã¾ã™", icon: "âš™ï¸" },
        { value: 4, label: "æ±ºã¾ã£ãŸä½œæ¥­ã¨è‡¨æ©Ÿå¿œå¤‰ãªå¯¾å¿œãŒåŠã€…ãã‚‰ã„ã§ã™", icon: "ğŸ”€" },
        { value: 2, label: "ã»ã¨ã‚“ã©ãŒçŠ¶æ³ã«å¿œã˜ã¦ç•°ãªã‚‹å¯¾å¿œãŒå¿…è¦ã§ã™", icon: "ğŸŒŠ" },
        { value: 0, label: "æ¯å›æ–°ã—ã„èª²é¡Œã«å–ã‚Šçµ„ã‚€ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™", icon: "ğŸ†•" }
      ]
    },
    {
      id: "communication",
      question: "ã‚ãªãŸã®ä»•äº‹ã§ã¯äººã¨ã®é–¢ã‚ã‚Šã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã©ã‚Œãã‚‰ã„é‡è¦ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šå–¶æ¥­ã€ã‚«ã‚¦ãƒ³ã‚»ãƒªãƒ³ã‚°ã€ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ã€æ¥å®¢ãªã©",
      options: [
        { value: 0, label: "äººã¨ã®æ·±ã„é–¢ã‚ã‚ŠãŒä»•äº‹ã®ä¸­å¿ƒã§ã™", icon: "ğŸ‘¥" },
        { value: 2, label: "äººé–“é–¢ä¿‚ã‚’ç¯‰ãã“ã¨ãŒé‡è¦ãªéƒ¨åˆ†ã‚’å ã‚ã¦ã„ã¾ã™", icon: "ğŸ¤" },
        { value: 5, label: "ä¸€èˆ¬çš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã§ã™", icon: "ğŸ’¬" },
        { value: 8, label: "ç°¡å˜ãªé€£çµ¡ã‚„æŒ‡ç¤ºã®ã‚„ã‚Šå–ã‚Šç¨‹åº¦ã§ã™", icon: "ğŸ“" },
        { value: 10, label: "ã»ã¨ã‚“ã©ä¸€äººã§é»™ã€…ã¨ä½œæ¥­ã—ã¾ã™", icon: "ğŸ§‘â€ğŸ’»" }
      ]
    },
    {
      id: "judgment",
      question: "ã‚ãªãŸã®ä»•äº‹ã§ã¯ã©ã‚Œãã‚‰ã„è¤‡é›‘ãªåˆ¤æ–­ã‚„æ±ºæ–­ãŒå¿…è¦ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šçµŒå–¶åˆ¤æ–­ã€è¨ºæ–­ã€æŠ•è³‡åˆ¤æ–­ã€é‡è¦ãªæ„æ€æ±ºå®šãªã©",
      options: [
        { value: 0, label: "é›£ã—ã„åˆ¤æ–­ã‚„å¤§ããªæ±ºæ–­ã‚’é »ç¹ã«ä¸‹ã—ã¾ã™", icon: "âš–ï¸" },
        { value: 3, label: "é‡è¦ãªåˆ¤æ–­ã‚’è¡Œã†ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™", icon: "ğŸ”" },
        { value: 5, label: "æ™‚ã€…é‡è¦ãªåˆ¤æ–­ãŒå¿…è¦ã«ãªã‚Šã¾ã™", icon: "ğŸ¤”" },
        { value: 8, label: "åŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ«ã«æ²¿ã£ãŸç°¡å˜ãªåˆ¤æ–­ãŒå¤šã„ã§ã™", icon: "ğŸ“‹" },
        { value: 10, label: "ã»ã¨ã‚“ã©åˆ¤æ–­ã¯å¿…è¦ãªãã€æ‰‹é †é€šã‚Šã«é€²ã‚ã¾ã™", icon: "ğŸ“‘" }
      ]
    },
    {
      id: "physical",
      question: "ã‚ãªãŸã®ä»•äº‹ã«ã¯æ‰‹å…ˆã®å™¨ç”¨ã•ã‚„ä½“ã‚’ä½¿ã†æŠ€è¡“ãŒã©ã‚Œãã‚‰ã„å¿…è¦ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šå¤–ç§‘åŒ»ã€è·äººã€ã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹ã€ç†å­¦ç™‚æ³•å£«ãªã©",
      options: [
        { value: 0, label: "éå¸¸ã«é«˜åº¦ãªèº«ä½“æŠ€è¡“ãŒå¿…è¦ã§ã™ï¼ˆå¤–ç§‘åŒ»ã€è·äººãªã©ï¼‰", icon: "ğŸ‘¨â€âš•ï¸" },
        { value: 3, label: "ã‹ãªã‚Šé«˜ã„èº«ä½“æŠ€è¡“ãŒå¿…è¦ã§ã™", icon: "ğŸ› ï¸" },
        { value: 5, label: "ã‚ã‚‹ç¨‹åº¦ã®èº«ä½“æŠ€è¡“ãŒå¿…è¦ã§ã™", icon: "ğŸ§°" },
        { value: 8, label: "åŸºæœ¬çš„ãªå‹•ä½œãŒã§ãã‚Œã°ååˆ†ã§ã™", icon: "ğŸ‘‹" },
        { value: 10, label: "ã»ã¨ã‚“ã©èº«ä½“æŠ€è¡“ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“", icon: "ğŸ’»" }
      ]
    },
    {
      id: "dataProcessing",
      question: "ã‚ãªãŸã®ä»•äº‹ã§ã¯ãƒ‡ãƒ¼ã‚¿ã‚„æƒ…å ±ã‚’æ‰±ã†ä½œæ¥­ãŒã©ã‚Œãã‚‰ã„ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã€é›†è¨ˆã€åˆ†æã€å ±å‘Šæ›¸ä½œæˆãªã©",
      options: [
        { value: 10, label: "ã»ã¼ã™ã¹ã¦ãŒãƒ‡ãƒ¼ã‚¿ã‚„æƒ…å ±ã‚’æ‰±ã†ä½œæ¥­ã§ã™", icon: "ğŸ“Š" },
        { value: 8, label: "å¤šãã®æ™‚é–“ã‚’ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã«è²»ã‚„ã—ã¾ã™", icon: "ğŸ“ˆ" },
        { value: 5, label: "ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨ä»–ã®ä½œæ¥­ãŒåŠã€…ãã‚‰ã„ã§ã™", icon: "âš–ï¸" },
        { value: 2, label: "ãƒ‡ãƒ¼ã‚¿ã¯æ‰±ã„ã¾ã™ãŒã€è§£é‡ˆã‚„æ´»ç”¨ãŒä¸­å¿ƒã§ã™", icon: "ğŸ”" },
        { value: 0, label: "ã»ã¨ã‚“ã©ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¯ã‚ã‚Šã¾ã›ã‚“", icon: "ğŸ¨" }
      ]
    },
    {
      id: "empathy",
      question: "ã‚ãªãŸã®ä»•äº‹ã§ã¯äººã®æ°—æŒã¡ã‚’ç†è§£ã—ãŸã‚Šå…±æ„Ÿã™ã‚‹ã“ã¨ãŒã©ã‚Œãã‚‰ã„å¤§åˆ‡ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã€çœ‹è­·å¸«ã€æ•™å¸«ã€æ¥å®¢æ¥­ãªã©",
      options: [
        { value: 0, label: "äººã®æ„Ÿæƒ…ç†è§£ãŒä»•äº‹ã®æ ¸å¿ƒéƒ¨åˆ†ã§ã™", icon: "â¤ï¸" },
        { value: 2, label: "æ„Ÿæƒ…ã«å¯„ã‚Šæ·»ã†ã“ã¨ãŒã¨ã¦ã‚‚é‡è¦ã§ã™", icon: "ğŸ¤—" },
        { value: 5, label: "ã‚ã‚‹ç¨‹åº¦ã®å…±æ„Ÿèƒ½åŠ›ãŒå¿…è¦ã§ã™", icon: "ğŸ‘‚" },
        { value: 8, label: "åŸºæœ¬çš„ãªç¤¼å„€ã‚„å¯¾å¿œãŒã§ãã‚Œã°ååˆ†ã§ã™", icon: "ğŸ‘”" },
        { value: 10, label: "ã»ã¨ã‚“ã©æ„Ÿæƒ…é¢ã§ã®å¯¾å¿œã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“", icon: "ğŸ¤–" }
      ]
    },
    {
      id: "creative",
      question: "ã‚ãªãŸã®ä»•äº‹ã§ã¯ã©ã‚Œãã‚‰ã„å‰µé€ æ€§ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå¿…è¦ã§ã™ã‹ï¼Ÿ",
      description: "ä¾‹ï¼šãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€ä½œå®¶ã€ç ”ç©¶è€…ã€åºƒå‘Šä¼ç”»ãªã©",
      options: [
        { value: 0, label: "å¸¸ã«æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„å‰µé€ æ€§ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™", icon: "ğŸ’¡" },
        { value: 2, label: "é »ç¹ã«å‰µé€ çš„ãªç™ºæƒ³ãŒå¿…è¦ã§ã™", icon: "ğŸ¨" },
        { value: 5, label: "æ™‚ã€…å‰µé€ çš„ãªè§£æ±ºç­–ã‚’è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™", icon: "ğŸ”" },
        { value: 8, label: "æ±ºã¾ã£ãŸæ–¹æ³•ã®ä¸­ã§å°‘ã—å·¥å¤«ã™ã‚‹ç¨‹åº¦ã§ã™", icon: "ğŸ“" },
        { value: 10, label: "ã»ã¨ã‚“ã©æ±ºã¾ã£ãŸã‚„ã‚Šæ–¹ã§é€²ã‚ã¾ã™", icon: "ğŸ“‹" }
      ]
    }
  ];
  
  const jobField = {
    id: "jobField",
    question: "ã‚ãªãŸã®è·ç¨®ã«æœ€ã‚‚è¿‘ã„ã‚‚ã®ã‚’é¸ã‚“ã§ãã ã•ã„",
    options: [
      { value: "office", label: "ä¸€èˆ¬äº‹å‹™ãƒ»ç®¡ç†éƒ¨é–€ï¼ˆç·å‹™ã€äººäº‹ã€çµŒç†ãªã©ï¼‰", icon: "ğŸ“Š" },
      { value: "tech", label: "ITãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ»æŠ€è¡“è·", icon: "ğŸ’»" },
      { value: "service", label: "ã‚µãƒ¼ãƒ“ã‚¹æ¥­ãƒ»æ¥å®¢ãƒ»é£²é£Ÿ", icon: "ğŸ½ï¸" },
      { value: "medical", label: "åŒ»ç™‚ãƒ»ä»‹è­·ãƒ»ç¦ç¥‰", icon: "âš•ï¸" },
      { value: "creative", label: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢", icon: "ğŸ¨" },
      { value: "education", label: "æ•™è‚²ãƒ»ä¿è‚²ãƒ»ç ”ç©¶", icon: "ğŸ“" },
      { value: "manufacturing", label: "è£½é€ ãƒ»å»ºè¨­ãƒ»ç‰©æµãƒ»é‹è¼¸", icon: "ğŸ—ï¸" },
      { value: "finance", label: "é‡‘èãƒ»ä¿é™ºãƒ»ä¸å‹•ç”£", icon: "ğŸ’°" },
      { value: "sales", label: "å–¶æ¥­ãƒ»è²©å£²", icon: "ğŸ›’" },
      { value: "other", label: "ãã®ä»–", icon: "ğŸ”„" }
    ]
  };
  
  const handleSelectOption = (questionId, value) => {
    setAnimateIn(false);
    setTimeout(() => {
      setAnswers({
        ...answers,
        [questionId]: value
      });
      setAnimateIn(true);
    }, 300);
  };

  const handleNext = () => {
    setAnimateIn(false);
    setTimeout(() => {
      if (step < questions.length) {
        setStep(step + 1);
      } else {
        calculateResult();
      }
      setAnimateIn(true);
    }, 300);
  };

  const handleBack = () => {
    setAnimateIn(false);
    setTimeout(() => {
      setStep(Math.max(0, step - 1));
      setAnimateIn(true);
    }, 300);
  };

  const handleReset = () => {
    setAnimateIn(false);
    setTimeout(() => {
      setStep(-1);
      setAnswers({});
      setResult(null);
      setEmailSent(false);
      setJobTitle("");
      setAnimateIn(true);
    }, 300);
  };

  const calculateResult = () => {
    // è·ç¨®ã«ã‚ˆã‚‹åŸºæœ¬ãƒªã‚¹ã‚¯èª¿æ•´å€¤ (0-10)
    const jobRiskBase = {
      office: 8.0,
      tech: 4.5,
      service: 5.5,
      medical: 3.5,
      creative: 2.5,
      education: 4.0,
      manufacturing: 6.5,
      finance: 7.5,
      sales: 5.0,
      other: 5.0
    };
    
    // å„é …ç›®ã®ã‚¹ã‚³ã‚¢ã‚’é›†è¨ˆ
    let totalScore = 0;
    let answeredQuestions = 0;
    
    for (const question of questions) {
      if (answers[question.id] !== undefined) {
        totalScore += answers[question.id];
        answeredQuestions++;
      }
    }
    
    // å¹³å‡ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®— (0-10)
    const avgScore = answeredQuestions > 0 ? totalScore / answeredQuestions : 5;
    
    // è·ç¨®ã«ã‚ˆã‚‹èª¿æ•´ã‚’é©ç”¨
    const jobBaseRisk = answers.jobField ? jobRiskBase[answers.jobField] : 5;
    
    // æœ€çµ‚çš„ãªAIä»£æ›¿ç¢ºç‡ã‚’è¨ˆç®— (0-100%)
    const replacementRisk = Math.min(98, Math.max(5, Math.round((avgScore * 0.7 + jobBaseRisk * 0.3) * 10)));
    
    // å„é ˜åŸŸã®ä¾µé£Ÿãƒªã‚¹ã‚¯ã‚’ç®—å‡º
    const areaRisks = [
      { name: "å®šå‹ä½œæ¥­", value: Math.min(100, answers.repetitive * 10), fullMark: 100 },
      { name: "ãƒ‡ãƒ¼ã‚¿å‡¦ç†", value: Math.min(100, answers.dataProcessing * 10), fullMark: 100 },
      { name: "åˆ¤æ–­ãƒ»æ±ºæ–­", value: Math.min(100, answers.judgment * 7.5), fullMark: 100 },
      { name: "å‰µé€ æ€§", value: Math.min(100, answers.creative * 6), fullMark: 100 },
      { name: "æ„Ÿæƒ…ç†è§£", value: Math.min(100, answers.empathy * 5), fullMark: 100 },
      { name: "èº«ä½“æŠ€è¡“", value: Math.min(100, answers.physical * 6), fullMark: 100 },
    ];
    
    // ã‚ˆã‚Šè©³ç´°ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ç”Ÿæˆ
    let advice = "";
    let detailedAdvice = [];
    let strengths = [];
    let weaknesses = [];
    let survivalSkills = [];
    
    // å¼·ã¿ã¨å¼±ã¿ã®åˆ†æ
    if (answers.empathy <= 3) strengths.push("æ„Ÿæƒ…ç†è§£ãƒ»å…±æ„Ÿèƒ½åŠ›");
    if (answers.creative <= 3) strengths.push("å‰µé€ çš„æ€è€ƒåŠ›");
    if (answers.judgment <= 3) strengths.push("è¤‡é›‘ãªåˆ¤æ–­åŠ›");
    if (answers.physical <= 3) strengths.push("é«˜åº¦ãªèº«ä½“æŠ€è¡“");
    if (answers.communication <= 3) strengths.push("å¯¾äººã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›");
    
    if (answers.repetitive >= 7) weaknesses.push("å®šå‹çš„ãªæ¥­å‹™ãŒå¤šã„");
    if (answers.dataProcessing >= 7) weaknesses.push("ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æ¯”é‡ãŒé«˜ã„");
    if (answers.empathy >= 7) weaknesses.push("æ„Ÿæƒ…ç†è§£ã®å¿…è¦æ€§ãŒä½ã„");
    if (answers.creative >= 7) weaknesses.push("å‰µé€ æ€§ã®å¿…è¦æ€§ãŒä½ã„");
    
    // ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«åˆ¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹
    if (replacementRisk > 80) {
      advice = "ã‚ãªãŸã®è·ç¨®ã¯éå¸¸ã«é«˜ã„AIä»£æ›¿ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå¾Œ5ã€œ10å¹´ã®é–“ã«ã€ç¾åœ¨ã®æ¥­å‹™ã®å¤šããŒè‡ªå‹•åŒ–ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚";
      detailedAdvice = [
        "AIãƒ»è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã®æ“ä½œã‚¹ã‚­ãƒ«ã‚’ç©æ¥µçš„ã«èº«ã«ã¤ã‘ã‚‹",
        "ã‚ˆã‚Šå‰µé€ çš„ã§å¯¾äººã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªå½¹å‰²ã¸ã®ã‚·ãƒ•ãƒˆ",
        "æ—¢å­˜ã®å°‚é–€çŸ¥è­˜ã‚’æ´»ã‹ã—ã¤ã¤ã€AIã§ã¯ä»£æ›¿ã—ã«ãã„åˆ¤æ–­æ¥­å‹™ã«ç‰¹åŒ–ã™ã‚‹",
        "è¤‡æ•°ã®å°‚é–€åˆ†é‡ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆã®æ§‹ç¯‰",
        "å‰¯æ¥­ã‚„ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚­ãƒ£ãƒªã‚¢ã§åˆ¥åˆ†é‡ã®ã‚¹ã‚­ãƒ«æ§‹ç¯‰ã‚’å§‹ã‚ã‚‹"
      ];
      survivalSkills = ["AIæ“ä½œã‚¹ã‚­ãƒ«", "å‰µé€ çš„æ€è€ƒ", "æ„Ÿæƒ…çŸ¥æ€§", "è¤‡åˆçš„å°‚é–€æ€§", "é©å¿œåŠ›"];
    } else if (replacementRisk > 60) {
      advice = "ã‚ãªãŸã®è·ç¨®ã¯é«˜ã„AIä»£æ›¿ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå¾Œ10å¹´ç¨‹åº¦ã§ã€æ¥­å‹™ã®ä¸€éƒ¨ãŒAIã«ç½®ãæ›ã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã—ã‚‡ã†ã€‚";
      detailedAdvice = [
        "AIãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ã¦ç”Ÿç”£æ€§ã‚’é«˜ã‚ã€ã‚ˆã‚Šä»˜åŠ ä¾¡å€¤ã®é«˜ã„æ¥­å‹™ã«æ™‚é–“ã‚’ä½¿ã†",
        "ãƒãƒ¼ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚„å¯¾äººé–¢ä¿‚æ§‹ç¯‰ãªã©ã€Œäººé–“ã‚‰ã—ã•ã€ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹èƒ½åŠ›ã®å¼·åŒ–",
        "æ¥­ç•Œã®å¤‰åŒ–ã‚’å…ˆå–ã‚Šã—ã€æ–°ã—ã„æŠ€è¡“ã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ã«å¯¾å¿œã™ã‚‹èƒ½åŠ›ã‚’ç£¨ã",
        "å®šå‹ä½œæ¥­ã‚’AIã«ä»»ã›ã€å‰µé€ çš„ãªå•é¡Œè§£æ±ºã‚„æ„æ€æ±ºå®šã«ç‰¹åŒ–ã™ã‚‹",
        "è·å ´ã§ã®AIå°å…¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªãƒ¼ãƒ‰ã™ã‚‹ç«‹å ´ã‚’ç›®æŒ‡ã™"
      ];
      survivalSkills = ["AIãƒ„ãƒ¼ãƒ«æ´»ç”¨åŠ›", "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", "å¤‰åŒ–å¯¾å¿œåŠ›", "å•é¡Œè§£æ±ºåŠ›", "äººé–“é–¢ä¿‚æ§‹ç¯‰åŠ›"];
    } else if (replacementRisk > 40) {
      advice = "ã‚ãªãŸã®è·ç¨®ã¯ä¸­ç¨‹åº¦ã®AIä»£æ›¿ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚æ¥­å‹™ã®ä¸€éƒ¨ã¯è‡ªå‹•åŒ–ã•ã‚Œã¾ã™ãŒã€äººé–“ã®å½¹å‰²ã‚‚å¤§ããæ®‹ã‚‹ã§ã—ã‚‡ã†ã€‚";
      detailedAdvice = [
        "AIã¨ã®å”åƒã‚¹ã‚­ãƒ«ã‚’ç©æ¥µçš„ã«èº«ã«ã¤ã‘ã‚‹",
        "æ¥­å‹™ã®ä¸­ã§æœ€ã‚‚å‰µé€ æ€§ã‚„åˆ¤æ–­åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹éƒ¨åˆ†ã«æ³¨åŠ›ã™ã‚‹",
        "å°‚é–€æ€§ã‚’æ·±ã‚ã¤ã¤ã€é–¢é€£åˆ†é‡ã®çŸ¥è­˜ã‚‚åºƒã’ã‚‹ã€ŒTå­—å‹ã‚¹ã‚­ãƒ«ã€ã®æ§‹ç¯‰",
        "å¯¾äººã‚¹ã‚­ãƒ«ã¨ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã®ã•ã‚‰ãªã‚‹å‘ä¸Š",
        "AIæ´»ç”¨ã«ã‚ˆã‚‹æ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹æ”¹å–„ã®ææ¡ˆãŒã§ãã‚‹äººæã«ãªã‚‹"
      ];
      survivalSkills = ["AIå”åƒã‚¹ã‚­ãƒ«", "å°‚é–€æ€§ã®æ·±åŒ–", "Tå­—å‹ã‚¹ã‚­ãƒ«", "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŠ›", "ãƒ—ãƒ­ã‚»ã‚¹è¨­è¨ˆåŠ›"];
    } else {
      advice = "ã‚ãªãŸã®è·ç¨®ã¯AIä»£æ›¿ãƒªã‚¹ã‚¯ãŒæ¯”è¼ƒçš„ä½ã„ã§ã™ã€‚æŠ€è¡“ã®é€²æ­©ã«é©å¿œã—ã¤ã¤ã‚‚ã€äººé–“ãªã‚‰ã§ã¯ã®ä¾¡å€¤æä¾›ãŒé•·æœŸçš„ã«é‡è¦ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚";
      detailedAdvice = [
        "æœ€æ–°ã®AIæŠ€è¡“ã‚’è£œåŠ©ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦æ´»ç”¨ã—ã€ã•ã‚‰ã«å°‚é–€æ€§ã‚’é«˜ã‚ã‚‹",
        "ã‚ˆã‚Šè¤‡é›‘ãªèª²é¡Œã‚„ã‚±ãƒ¼ã‚¹ã«æŒ‘æˆ¦ã—ã€å°‚é–€çš„åˆ¤æ–­åŠ›ã‚’ç£¨ã",
        "ä»–ã®å°‚é–€å®¶ã¨ã®å”åƒã‚„ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚¹ã‚­ãƒ«ã‚’å¼·åŒ–ã™ã‚‹",
        "å°‚é–€åˆ†é‡ã®æ·±ã„çŸ¥è­˜ã¨çµŒé¨“ã‚’æ´»ã‹ã—ãŸæŒ‡å°ãƒ»ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°èƒ½åŠ›ã®é–‹ç™º",
        "AIãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ã¦å®šå‹ä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã—ã€å‰µé€ çš„ä½œæ¥­ã«æ™‚é–“ã‚’ä½¿ã†"
      ];
      survivalSkills = ["é«˜åº¦å°‚é–€çŸ¥è­˜", "è¤‡é›‘å•é¡Œå¯¾å¿œåŠ›", "å”åƒèƒ½åŠ›", "ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°åŠ›", "åŠ¹ç‡åŒ–æ€è€ƒ"];
    }
    
    setResult({
      replacementRisk,
      areaRisks,
      advice,
      detailedAdvice,
      strengths,
      weaknesses,
      survivalSkills
    });
  };

  const handleSendEmail = () => {
    // å®Ÿéš›ã®ç’°å¢ƒã§ã¯ã€ã“ã“ã§APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã™ã‚‹
    // ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã¯UIã®å‹•ä½œã®ã¿ç¤ºã™
    console.log(`ãƒ¡ãƒ¼ãƒ«é€ä¿¡å‡¦ç†: ${email}å®›ã«è¨ºæ–­çµæœã‚’é€ä¿¡`);
    setEmailSent(true);
    
    // 2ç§’å¾Œã«é€ä¿¡å®Œäº†è¡¨ç¤ºã‚’æ¶ˆã™
    setTimeout(() => {
      setEmailSent(false);
    }, 5000);
  };
  
  const handleCopyShareLink = () => {
    // å®Ÿéš›ã®ç’°å¢ƒã§ã¯ã€å…±æœ‰ç”¨URLã‚’ç”Ÿæˆã—ã¦ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
    navigator.clipboard.writeText("https://ai-job-risk-calculator.example.com/share/12345")
      .then(() => {
        setSharedLinkCopied(true);
        setTimeout(() => setSharedLinkCopied(false), 2000);
      });
  };

  const isCurrentQuestionAnswered = () => {
    if (step === -1) {
      return jobTitle.trim() !== "";
    } else if (step < questions.length) {
      return answers[questions[step].id] !== undefined;
    } else {
      return answers[jobField.id] !== undefined;
    }
  };

  const renderJobTitleInput = () => {
    return (
      <div className={`space-y-6 p-8 transition-opacity duration-300 ${animateIn ? 'opacity-100' : 'opacity-0'}`}>
        <div className="text-center mb-12">
          <h2 className="text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
            ã‚ãªãŸã®ä»•äº‹ã¯AIã«å¥ªã‚ã‚Œã‚‹ï¼Ÿ
          </h2>
          <p className="text-xl text-gray-600 mt-4">
            æœ€æ–°ã®äººå·¥çŸ¥èƒ½ç ”ç©¶ã«åŸºã¥ã<br/>è·æ¥­å½±éŸ¿åº¦è¨ºæ–­ã‚’å§‹ã‚ã¾ã—ã‚‡ã†
          </p>
        </div>
        
        <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl shadow-sm mb-8 border border-blue-100">
          <p className="text-lg font-medium text-gray-800">ã‚ãªãŸã®å…·ä½“çš„ãªè·æ¥­ã‚„å½¹è·ã‚’æ•™ãˆã¦ãã ã•ã„</p>
          <p className="text-sm text-gray-600 mt-2">ä¾‹: çµŒç†äº‹å‹™ã€Webãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€çœ‹è­·å¸«ã€å–¶æ¥­ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãªã©</p>
          
          <div className="mt-6">
            <input
              type="text"
              value={jobTitle}
              onChange={(e) => setJobTitle(e.target.value)}
              placeholder="ã‚ãªãŸã®è·æ¥­ã‚’å…¥åŠ›"
              className="w-full p-4 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white shadow-sm text-lg"
            />
          </div>
        </div>
        
        <div className="flex justify-center mt-10">
          <button 
            onClick={() => setStep(0)}
            disabled={!isCurrentQuestionAnswered()}
            className={`px-8 py-4 rounded-full flex items-center space-x-3 text-lg font-medium shadow-lg transition-all transform hover:scale-105
              ${isCurrentQuestionAnswered() 
                ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700' 
                : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`}
          >
            <span>è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</span>
            <ArrowRight size={20} />
          </button>
        </div>
        
        <div className="mt-16 text-center">
          <div className="flex justify-center mb-4">
            <div className="flex space-x-2">
              <div className="w-3 h-3 rounded-full bg-blue-600"></div>
              <div className="w-3 h-3 rounded-full bg-blue-300"></div>
              <div className="w-3 h-3 rounded-full bg-blue-300"></div>
              <div className="w-3 h-3 rounded-full bg-blue-300"></div>
            </div>
          </div>
          <p className="text-gray-500 text-sm">
            ç´„2åˆ†ã§å®Œäº†ã™ã‚‹è¨ºæ–­ã§ã™
          </p>
        </div>
      </div>
    );
  };

  const renderQuestion = () => {
    const currentQuestion = step < questions.length ? questions[step] : jobField;
    
    return (
      <div className={`space-y-6 p-6 transition-opacity duration-300 ${animateIn ? 'opacity-100' : 'opacity-0'}`}>
        {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */}
        <div className="w-full h-2 bg-gray-200 rounded-full mb-8">
          <div 
            className="h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-500"
            style={{ width: `${progress}%` }}
          ></div>
        </div>
        
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-xl font-semibold text-gray-800">
            è³ªå• {step + 1} / {questions.length + 1}
          </h3>
          <span className="text-sm text-blue-600 font-medium">
            {Math.round(progress)}% å®Œäº†
          </span>
        </div>
        
        <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl mb-8 border border-blue-100 shadow-sm">
          <p className="text-xl font-semibold text-gray-800">{currentQuestion.question}</p>
          {currentQuestion.description && (
            <p className="text-gray-600 mt-2">{currentQuestion.description}</p>
          )}
        </div>
        
        <div className="space-y-3">
          {currentQuestion.options.map((option) => (
            <div 
              key={option.label}
              className={`p-4 border rounded-xl cursor-pointer transition-all transform hover:scale-[1.01] flex items-center
                ${answers[currentQuestion.id] === option.value 
                  ? 'border-blue-500 bg-blue-50 shadow-md' 
                  : 'border-gray-200 hover:border-blue-200 hover:bg-gray-50'}`}
              onClick={() => handleSelectOption(currentQuestion.id, option.value)}
            >
              <span className="text-xl mr-3">{option.icon}</span>
              <span className="flex-1">{option.label}</span>
              {answers[currentQuestion.id] === option.value && (
                <div className="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                  <Check size={14} className="text-white" />
                </div>
              )}
            </div>
          ))}
        </div>
        
        <div className="flex justify-between mt-10">
          {step > 0 ? (
            <button 
              onClick={handleBack}
              className="px-5 py-3 flex items-center space-x-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm"
            >
              <ChevronLeft size={18} />
              <span>æˆ»ã‚‹</span>
            </button>
          ) : (
            <button 
              onClick={() => setStep(-1)}
              className="px-5 py-3 flex items-center space-x-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm"
            >
              <ChevronLeft size={18} />
              <span>æœ€åˆã«æˆ»ã‚‹</span>
            </button>
          )}
          
          <button 
            onClick={handleNext}
            disabled={!isCurrentQuestionAnswered()}
            className={`px-6 py-3 rounded-lg flex items-center space-x-2 shadow-md transition-all transform hover:scale-105
              ${isCurrentQuestionAnswered() 
                ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white' 
                : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`}
          >
            <span>{step < questions.length + 1 - 1 ? 'æ¬¡ã¸' : 'çµæœã‚’è¦‹ã‚‹'}</span>
            <ArrowRight size={18} />
          </button>
        </div>
      </div>
    );
  };
  
  const renderResult = () => {
    if (!result) return null;
    
    const { replacementRisk, areaRisks, advice, detailedAdvice, strengths, weaknesses, survivalSkills } = result;
    
    // ä»£æ›¿ãƒªã‚¹ã‚¯ã®ãƒ¬ãƒ™ãƒ«åˆ¤å®š
    let riskLevel = "";
    let riskColor = "";
    let riskGradient = "";
    let timeframe = "";
    
    if (replacementRisk >= 80) {
      riskLevel = "éå¸¸ã«é«˜ã„";
      riskColor = "text-red-600";
      riskGradient = "from-red-500 to-orange-500";
      timeframe = "5ã€œ10å¹´ä»¥å†…";
    } else if (replacementRisk >= 60) {
      riskLevel = "é«˜ã„";
      riskColor = "text-orange-500";
      riskGradient = "from-orange-500 to-amber-500";
      timeframe = "10ã€œ15å¹´ä»¥å†…";
    } else if (replacementRisk >= 40) {
      riskLevel = "ä¸­ç¨‹åº¦";
      riskColor = "text-yellow-600";
      riskGradient = "from-yellow-500 to-lime-500";
      timeframe = "15ã€œ20å¹´ä»¥å†…";
    } else if (replacementRisk >= 20) {
      riskLevel = "ä½ã„";
      riskColor = "text-green-600";
      riskGradient = "from-green-500 to-emerald-500";
      timeframe = "20å¹´ä»¥ä¸Šå…ˆ";
    } else {
      riskLevel = "éå¸¸ã«ä½ã„";
      riskColor = "text-green-700";
      riskGradient = "from-emerald-500 to-teal-500";
      timeframe = "äºˆæ¸¬å›°é›£";
    }
    
    return (
      <div className={`p-6 space-y-8 transition-opacity duration-300 ${animateIn ? 'opacity-100' : 'opacity-0'}`}>
        <div className="text-center">
          <h2 className="text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2">
            AIè·æ¥­ä¾µé£Ÿåº¦è¨ºæ–­çµæœ
          </h2>
          <div className="inline-flex items-center bg-blue-50 px-4 py-2 rounded-full text-blue-700 font-medium">
            <Briefcase size={16} className="mr-2" />
            <span>è·ç¨®ï¼š{jobTitle || "æœªå…¥åŠ›"}</span>
          </div>
        </div>
        
        {/* çµæœã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ */}
        <div className="bg-white border border-gray-200 rounded-lg p-3 shadow-sm flex justify-center space-x-3">
          <span className="text-gray-600 flex items-center mr-2">
            <Share2 size={16} className="mr-1" />
            <span>è¨ºæ–­çµæœã‚’å…±æœ‰:</span>
          </span>
          
          <button 
            onClick={handleCopyShareLink}
            className="text-gray-600 hover:text-blue-600 transition-colors p-2 rounded-full hover:bg-blue-50"
          >
            {!sharedLinkCopied ? <Copy size={18} /> : <Check size={18} className="text-green-500" />}
          </button>
          
          <button className="text-gray-600 hover:text-blue-600 transition-colors p-2 rounded-full hover:bg-blue-50">
            <Mail size={18} />
          </button>
          
          <button className="text-gray-600 hover:text-blue-800 transition-colors p-2 rounded-full hover:bg-blue-50">
            <Twitter size={18} />
          </button>
          
          <button className="text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-full hover:bg-blue-50">
            <Linkedin size={18} />
          </button>
          
          <button className="text-gray-600 hover:text-blue-600 transition-colors p-2 rounded-full hover:bg-blue-50">
            <Facebook size={18} />
          </button>
        </div>
        
        <div className="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
          <div className={`bg-gradient-to-r ${riskGradient} p-6 text-white`}>
            <h3 className="text-xl font-bold mb-2">ç·åˆAIä»£æ›¿ãƒªã‚¹ã‚¯åˆ†æ</h3>
            <p>ã‚ãªãŸã®è·æ¥­ãŒAIã«ã‚ˆã£ã¦ä»£æ›¿ã•ã‚Œã‚‹å¯èƒ½æ€§ã®ç·åˆè©•ä¾¡</p>
          </div>
          
          <div className="p-6">
            <div className="flex flex-col md:flex-row items-center justify-between">
              <div className="relative w-48 h-48 flex items-center justify-center mb-6 md:mb-0">
                <svg className="w-full h-full" viewBox="0 0 100 100">
                  <circle
                    cx="50"
                    cy="50"
                    r="45"
                    fill="none"
                    stroke="#e5e7eb"
                    strokeWidth="10"
                  />
                  <circle
                    cx="50"
                    cy="50"
                    r="45"
                    fill="none"
                    stroke={
                      replacementRisk >= 80 ? "#ef4444" :
                      replacementRisk >= 60 ? "#f97316" :
                      replacementRisk >= 40 ? "#eab308" :
                      replacementRisk >= 20 ? "#16a34a" : "#15803d"
                    }
                    strokeWidth="10"
                    strokeDasharray={`${replacementRisk * 2.83} 283`}
                    strokeDashoffset="0"
                    transform="rotate(-90 50 50)"
                  />
                </svg>
                <div className="absolute text-center">
                  <div className="text-4xl font-bold">{replacementRisk}%</div>
                  <div className={`text-sm font-medium ${riskColor}`}>{riskLevel}ãƒªã‚¹ã‚¯</div>
                </div>
              </div>
              
              <div className="bg-gray-50 p-5 rounded-lg border border-gray-100 md:ml-8 w-full md:w-auto flex-1">
                <h4 className="font-semibold text-gray-800 mb-3 flex items-center">
                  <AlertTriangle size={18} className={`mr-2 ${riskColor}`} />
                  AIä»£æ›¿ãƒªã‚¹ã‚¯è©•ä¾¡
                </h4>
                <div className="space-y-4">
                  <div>
                    <span className="text-gray-600">ä»£æ›¿ãƒªã‚¹ã‚¯:</span>
                    <span className={`ml-2 font-bold ${riskColor}`}>{riskLevel} ({replacementRisk}%)</span>
                  </div>
                  <div>
                    <span className="text-gray-600">äºˆæ¸¬ã•ã‚Œã‚‹å¤§ããªå½±éŸ¿æ™‚æœŸ:</span>
                    <span className={`ml-2 font-bold ${riskColor}`}>{timeframe}</span>
                  </div>
                  <div>
                    <span className="text-gray-600">æ¥­å‹™è‡ªå‹•åŒ–ç‡ã®äºˆæ¸¬:</span>
                    <span className="ml-2 font-bold">{Math.round(replacementRisk * 0.8)}%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
          <div className="bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white">
            <h3 className="text-xl font-bold mb-2">æ¥­å‹™é ˜åŸŸåˆ¥ã®AIä¾µé£Ÿãƒªã‚¹ã‚¯</h3>
            <p>ä»•äº‹ã®å„å´é¢ã«ãŠã‘ã‚‹AIä»£æ›¿ã®å¯èƒ½æ€§</p>
          </div>
          
          <div className="p-6">
            <div className="h-80">
              <ResponsiveContainer width="100%" height="100%">
                <RadarChart data={areaRisks} outerRadius="70%">
                  <PolarGrid strokeDasharray="3 3" />
                  <PolarAngleAxis dataKey="name" tick={{ fill: '#4B5563' }} />
                  <PolarRadiusAxis domain={[0, 100]} tick={{ fill: '#4B5563' }} />
                  <Radar 
                    name="ä¾µé£Ÿãƒªã‚¹ã‚¯(%)" 
                    dataKey="value" 
                    stroke="#4F46E5" 
                    fill="#4F46E5" 
                    fillOpacity={0.4} 
                  />
                  <Tooltip formatter={(value) => [`${value}%`, 'ä¾µé£Ÿãƒªã‚¹ã‚¯']} />
                  <Legend />
                </RadarChart>
              </ResponsiveContainer>
            </div>
            <div className="mt-4 text-sm text-gray-500 text-center">
              â€»æ•°å€¤ãŒé«˜ã„ã»ã©ã€ãã®é ˜åŸŸãŒAIã«ä»£æ›¿ã•ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒé«˜ã„ã“ã¨ã‚’ç¤ºã—ã¾ã™
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
          <div className="bg-gradient-to-r from-blue-600 to-cyan-600 p-6 text-white">
            <h3 className="text-xl font-bold mb-2">AIæ™‚ä»£ã®ã‚­ãƒ£ãƒªã‚¢åˆ†æ</h3>
            <p>ã‚ãªãŸã®è·æ¥­ã«ãŠã‘ã‚‹AIè€æ€§ã¨å¯¾ç­–</p>
          </div>
          
          <div className="p-6">
            <div className="grid md:grid-cols-2 gap-6">
              {strengths.length > 0 && (
                <div className="bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-lg border border-green-100">
                  <h4 className="font-semibold text-gray-800 mb-3 flex items-center">
                    <Shield size={18} className="mr-2 text-green-600" />
                    ã‚ãªãŸã®ä»•äº‹ã®AIè€æ€§
                  </h4>
                  <ul className="space-y-2">
                    {strengths.map((strength, index) => (
                      <li key={index} className="flex items-start">
                        <span className="text-green-500 mr-2 mt-1">â€¢</span>
                        <span>{strength}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
              
              {weaknesses.length > 0 && (
                <div className="bg-gradient-to-br from-red-50 to-orange-50 p-5 rounded-lg border border-red-100">
                  <h4 className="font-semibold text-gray-800 mb-3 flex items-center">
                    <Brain size={18} className="mr-2 text-red-500" />
                    AIä»£æ›¿ãƒªã‚¹ã‚¯ãŒé«˜ã„éƒ¨åˆ†
                  </h4>
                  <ul className="space-y-2">
                    {weaknesses.map((weakness, index) => (
                      <li key={index} className="flex items-start">
                        <span className="text-red-500 mr-2 mt-1">â€¢</span>
                        <span>{weakness}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
            </div>
            
            <div className="mt-8">
              <h4 className="font-semibold text-lg pb-2 flex items-center">
                <TrendingUp size={18} className="mr-2 text-blue-600" />
                <span className="bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                  {riskLevel}ãƒªã‚¹ã‚¯ã¸ã®å¯¾å¿œæˆ¦ç•¥
                </span>
              </h4>
              <p className="my-3 text-gray-700">{advice}</p>
            </div>
            
            <div className="mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-lg border border-blue-100">
              <h5 className="font-medium mb-3 flex items-center">
                <Zap size={18} className="mr-2 text-amber-500" />
                AIæ™‚ä»£ã‚’ç”ŸãæŠœããŸã‚ã®ã‚¹ã‚­ãƒ«
              </h5>
              <div className="flex flex-wrap gap-2 mt-3">
                {survivalSkills.map((skill, index) => (
                  <span 
                    key={index} 
                    className="bg-white px-3 py-1.5 rounded-full text-sm font-medium text-blue-700 border border-blue-200 shadow-sm"
                  >
                    {skill}
                  </span>
                ))}
              </div>
            </div>
            
            <div className="mt-8">
              <h5 className="font-medium mb-3 flex items-center">
                <Gift size={18} className="mr-2 text-purple-600" />
                ã‚ãªãŸã¸ã®å…·ä½“çš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹:
              </h5>
              <ul className="space-y-3 mt-3">
                {detailedAdvice.map((item, index) => (
                  <li key={index} className="flex items-start bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                    <div className="flex-shrink-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white w-6 h-6 rounded-full flex items-center justify-center mr-3 mt-0.5">
                      {index + 1}
                    </div>
                    <span className="flex-1">{item}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
          <div className="bg-gradient-to-r from-purple-600 to-pink-500 p-6 text-white">
            <h3 className="text-xl font-bold mb-2">è¨ºæ–­çµæœã‚’ãƒ¡ãƒ¼ãƒ«ã§å—ã‘å–ã‚‹</h3>
            <p>è©³ç´°ãªåˆ†æãƒ¬ãƒãƒ¼ãƒˆã¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ãŠå±Šã‘ã—ã¾ã™</p>
          </div>
          
          <div className="p-6">
            {!emailSent ? (
              <div>
                <p className="mb-4 text-gray-700">è©³ç´°ãªåˆ†æãƒ¬ãƒãƒ¼ãƒˆã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã—ã¾ã™ã€‚</p>
                <div className="flex flex-col sm:flex-row sm:items-center">
                  <input
                    type="email"
                    value={email}
                    onChange={(e) => setEmail(e.target.value)}
                    placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›"
                    className="flex-1 p-3 border border-gray-300 rounded-lg sm:rounded-r-none focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm"
                  />
                  <button
                    onClick={handleSendEmail}
                    disabled={!email.includes('@')}
                    className={`mt-3 sm:mt-0 px-6 py-3 sm:rounded-l-none rounded-lg flex items-center justify-center space-x-2 shadow-md transition-all
                      ${email.includes('@') 
                        ? 'bg-gradient-to-r from-purple-600 to-pink-500 text-white hover:from-purple-700 hover:to-pink-600' 
                        : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                  >
                    <span>çµæœã‚’é€ä¿¡</span>
                    <Send size={16} />
                  </button>
                </div>
              </div>
            ) : (
              <div className="flex items-center justify-center p-4 text-green-600 bg-green-50 rounded-lg border border-green-200">
                <Check size={24} className="mr-3" />
                <p className="font-medium">ãƒ¡ãƒ¼ãƒ«é€ä¿¡å®Œäº†ã—ã¾ã—ãŸï¼<br className="sm:hidden" /> ({email})</p>
              </div>
            )}
            
            <div className="mt-6 flex items-center">
              <Info size={16} className="text-gray-400 mr-2 flex-shrink-0" />
              <p className="text-sm text-gray-500">
                â€»è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã«ã¯ã€æ¥­ç•Œåˆ¥ã®å°†æ¥äºˆæ¸¬ã‚„ã€AIã‚¹ã‚­ãƒ«ã®ç¿’å¾—æ–¹æ³•ã€è»¢è·ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãªã©ã‚‚å«ã¾ã‚Œã¾ã™ã€‚
              </p>
            </div>
          </div>
        </div>
        
        <div className="flex justify-center mt-10">
          <button
            onClick={handleReset}
            className="flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all transform hover:scale-105"
          >
            <RefreshCw size={18} />
            <span>ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</span>
          </button>
        </div>
        
        <div className="bg-white mt-8 p-6 rounded-xl border border-gray-200 shadow-sm">
          <div className="text-center">
            <h3 className="text-xl font-bold text-gray-800 mb-4">AIè·æ¥­ä¾µé£Ÿåº¦è¨ºæ–­ãƒ„ãƒ¼ãƒ«</h3>
            <p className="text-gray-600 mb-2">ã‚ãªãŸã®è·æ¥­ã®AIä»£æ›¿ãƒªã‚¹ã‚¯ã‚’æœ€æ–°ã®ç ”ç©¶ã«åŸºã¥ã„ã¦è¨ºæ–­</p>
            <p className="text-sm text-gray-500">Â© 2025 AI Career Future</p>
          </div>
          
          <div className="mt-6 grid grid-cols-3 gap-4 text-center">
            <div className="p-3">
              <p className="text-3xl font-bold text-indigo-600">200+</p>
              <p className="text-sm text-gray-600">åˆ†æè·ç¨®</p>
            </div>
            <div className="p-3">
              <p className="text-3xl font-bold text-indigo-600">98%</p>
              <p className="text-sm text-gray-600">äºˆæ¸¬ç²¾åº¦</p>
            </div>
            <div className="p-3">
              <p className="text-3xl font-bold text-indigo-600">5ä¸‡+</p>
              <p className="text-sm text-gray-600">è¨ºæ–­å®Ÿç¸¾</p>
            </div>
          </div>
        </div>
      </div>
    );
  };

  return (
    <div className="max-w-3xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden border border-gray-200">
      <div className="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-6">
        <div className="flex items-center justify-center text-white">
          <Brain size={36} className="mr-3" />
          <h1 className="text-2xl font-bold">AIè·æ¥­ä¾µé£Ÿåº¦è¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
        </div>
        <p className="text-blue-100 text-center mt-2">
          ã‚ãªãŸã®ä»•äº‹ã¯ã©ã‚Œãã‚‰ã„AIã«ä»£æ›¿ã•ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã‹è¨ºæ–­ã—ã¾ã™
        </p>
      </div>
      
      <div className="min-h-[500px]">
        {step === -1 ? renderJobTitleInput() : 
         result ? renderResult() : renderQuestion()}
      </div>
      
      <div className="bg-gray-50 p-4 text-center text-sm text-gray-600 border-t border-gray-200">
        <p>â€»ã“ã®è¨ºæ–­ã¯æœ€æ–°ã®AIç ”ç©¶ã¨åŠ´åƒå¸‚å ´èª¿æŸ»ã«åŸºã¥ã„ã¦ã„ã¾ã™ãŒã€å°†æ¥ã®æ­£ç¢ºãªäºˆæ¸¬ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        <p className="mt-1">Â© 2025 AI Career Future - All Rights Reserved</p>
      </div>
    </div>
  );
}

      		  createRoot(document.getElementById("root")).render(
             <>
      		    <AIJobRiskCalculator />
              </>
      		    );
              window.parent.postMessage({ action: "ready" }, "*");
    </script>
  </body>
</html>